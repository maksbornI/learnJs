<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<title> Найди клад!</title>
</head>
<body>
    <h1 id="heading">Найди клад!</h1>
        <img id="map" width=800 height=800
        src="http://nostarch.com/images/treasuremap.png">
    <p id="distance">Начнем!</p> 	
    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
 <script>
    let getRandomNumber = function (size) {
        return Math.floor(Math.random() * size);
    };
    let getDistance =  function (event, target) {
            let diffX = event.offsetX - target.x;
            let diffY = event.offsetY - target.y;
            return Math.sqrt((diffX * diffX) + (diffY * diffY));
        };
    let getDistanceHint = function (distance) {
            if (distance < 20) {
                return "Обожжешься!";
            } else if (distance <30) {
                return "Очень горяче!";
            } else if (distance < 40) {
                return ("Горяче " + " Осталось " + trys + "попыток!");
            } else if (distance < 80) {
                return ("Тепло " + " Осталось " + trys + "попыток!");
            } else if (distance <100) {
                return ("Теплее " + " Осталось " + trys + "попыток!");
            }
            else if (distance < 160) {
                return ("Холодно " + " Осталось " + trys + "попыток!")
            } else if (distance < 320) {
                return ("Очень холодно " + " Осталось " + trys + "попыток!");
            } else {
                return ("Замерзнешь " + " Осталось " + trys + "попыток!");
            }
        };
    let clicks = 0;
    let width = 400;
    let heigth = 400;
    let trys = 50
    let target = {
        x:getRandomNumber(width),
        y:getRandomNumber(heigth)
    };
        $("#map").click(function (event) {
            clicks++;
            trys--;
            if (clicks>50) {
                alert ("Конец игры! Превышен лимит попыток!")
            }
        let distance = getDistance(event,target);
        let distanceHint = getDistanceHint(distance);
        $("#distance").text(distanceHint);
        if (distance<8) {
            alert ("Клад найден! Сделано кликов : " + clicks);
        }
        });

        
        
        
    
    
    
</script>
 
</body>
</html>